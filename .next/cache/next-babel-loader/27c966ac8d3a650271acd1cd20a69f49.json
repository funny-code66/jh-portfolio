{"ast":null,"code":"\"use strict\";\n\nvar _Set = require(\"@babel/runtime-corejs2/core-js/set\");\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst react_1 = require(\"react\");\nconst isServer = true;\nexports.default = () => {\n  const mountedInstances = new _Set();\n  let state;\n  function emitChange(component) {\n    state = component.props.reduceComponentsToState([...mountedInstances], component.props);\n    if (component.props.handleStateChange) {\n      component.props.handleStateChange(state);\n    }\n  }\n  return class extends react_1.Component {\n    // Used when server rendering\n    static rewind() {\n      const recordedState = state;\n      state = undefined;\n      mountedInstances.clear();\n      return recordedState;\n    }\n    constructor(props) {\n      super(props);\n      if (isServer) {\n        mountedInstances.add(this);\n        emitChange(this);\n      }\n    }\n    componentDidMount() {\n      mountedInstances.add(this);\n      emitChange(this);\n    }\n    componentDidUpdate() {\n      emitChange(this);\n    }\n    componentWillUnmount() {\n      mountedInstances.delete(this);\n      emitChange(this);\n    }\n    render() {\n      return null;\n    }\n  };\n};","map":{"version":3,"names":["exports","value","react_1","require","isServer","default","mountedInstances","state","emitChange","component","props","reduceComponentsToState","handleStateChange","Component","rewind","recordedState","undefined","clear","constructor","add","componentDidMount","componentDidUpdate","componentWillUnmount","delete","render"],"sources":["F:/frontend/ras-fullpage-strategies/nextjs-example/node_modules/next/dist/next-server/lib/side-effect.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst isServer = typeof window === 'undefined';\nexports.default = () => {\n    const mountedInstances = new Set();\n    let state;\n    function emitChange(component) {\n        state = component.props.reduceComponentsToState([...mountedInstances], component.props);\n        if (component.props.handleStateChange) {\n            component.props.handleStateChange(state);\n        }\n    }\n    return class extends react_1.Component {\n        // Used when server rendering\n        static rewind() {\n            const recordedState = state;\n            state = undefined;\n            mountedInstances.clear();\n            return recordedState;\n        }\n        constructor(props) {\n            super(props);\n            if (isServer) {\n                mountedInstances.add(this);\n                emitChange(this);\n            }\n        }\n        componentDidMount() {\n            mountedInstances.add(this);\n            emitChange(this);\n        }\n        componentDidUpdate() {\n            emitChange(this);\n        }\n        componentWillUnmount() {\n            mountedInstances.delete(this);\n            emitChange(this);\n        }\n        render() {\n            return null;\n        }\n    };\n};\n"],"mappings":"AAAA,YAAY;;AAAC;AAAA;AACb,uBAAsBA,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAChC,MAAMC,QAAQ,OAAgC;AAC9CJ,OAAO,CAACK,OAAO,GAAG,MAAM;EACpB,MAAMC,gBAAgB,GAAG,UAAS;EAClC,IAAIC,KAAK;EACT,SAASC,UAAU,CAACC,SAAS,EAAE;IAC3BF,KAAK,GAAGE,SAAS,CAACC,KAAK,CAACC,uBAAuB,CAAC,CAAC,GAAGL,gBAAgB,CAAC,EAAEG,SAAS,CAACC,KAAK,CAAC;IACvF,IAAID,SAAS,CAACC,KAAK,CAACE,iBAAiB,EAAE;MACnCH,SAAS,CAACC,KAAK,CAACE,iBAAiB,CAACL,KAAK,CAAC;IAC5C;EACJ;EACA,OAAO,cAAcL,OAAO,CAACW,SAAS,CAAC;IACnC;IACA,OAAOC,MAAM,GAAG;MACZ,MAAMC,aAAa,GAAGR,KAAK;MAC3BA,KAAK,GAAGS,SAAS;MACjBV,gBAAgB,CAACW,KAAK,EAAE;MACxB,OAAOF,aAAa;IACxB;IACAG,WAAW,CAACR,KAAK,EAAE;MACf,KAAK,CAACA,KAAK,CAAC;MACZ,IAAIN,QAAQ,EAAE;QACVE,gBAAgB,CAACa,GAAG,CAAC,IAAI,CAAC;QAC1BX,UAAU,CAAC,IAAI,CAAC;MACpB;IACJ;IACAY,iBAAiB,GAAG;MAChBd,gBAAgB,CAACa,GAAG,CAAC,IAAI,CAAC;MAC1BX,UAAU,CAAC,IAAI,CAAC;IACpB;IACAa,kBAAkB,GAAG;MACjBb,UAAU,CAAC,IAAI,CAAC;IACpB;IACAc,oBAAoB,GAAG;MACnBhB,gBAAgB,CAACiB,MAAM,CAAC,IAAI,CAAC;MAC7Bf,UAAU,CAAC,IAAI,CAAC;IACpB;IACAgB,MAAM,GAAG;MACL,OAAO,IAAI;IACf;EACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"script"}